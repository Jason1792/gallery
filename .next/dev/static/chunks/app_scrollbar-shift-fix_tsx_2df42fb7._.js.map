{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Drive/Web/jason_web/app/scrollbar-shift-fix.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect } from \"react\";\n\n/**\n * Prevents layout shift when the page is scroll-locked\n * (e.g., when modals set body { overflow: hidden } or add a \"modal-open\" class).\n * It adds right padding equal to the scrollbar width while locked.\n */\nexport default function ScrollbarShiftFix() {\n  useEffect(() => {\n    const docEl = document.documentElement;\n    const body = document.body;\n\n    const getScrollbarWidth = () =>\n      window.innerWidth - docEl.clientWidth; // works across platforms\n\n    const apply = () => {\n      const locked =\n        body.style.overflow === \"hidden\" ||\n        docEl.style.overflow === \"hidden\" ||\n        body.classList.contains(\"modal-open\") ||\n        docEl.classList.contains(\"modal-open\");\n      const w = getScrollbarWidth();\n      if (locked && w > 0) {\n        body.style.paddingRight ||= `${w}px`;\n        docEl.style.setProperty(\"--scrollbar-width\", `${w}px`);\n      } else {\n        // remove only if we set it\n        if (body.style.paddingRight) body.style.paddingRight = \"\";\n        docEl.style.removeProperty(\"--scrollbar-width\");\n      }\n    };\n\n    // Observe style/class changes that typically happen during modal open/close\n    const observer = new MutationObserver(apply);\n    observer.observe(body, { attributes: true, attributeFilter: [\"style\", \"class\"] });\n    observer.observe(docEl, { attributes: true, attributeFilter: [\"style\", \"class\"] });\n\n    // Recompute on resize (scrollbar width can change)\n    const onResize = () => apply();\n    window.addEventListener(\"resize\", onResize);\n\n    // Initial run\n    apply();\n\n    return () => {\n      observer.disconnect();\n      window.removeEventListener(\"resize\", onResize);\n      // cleanup any padding we added\n      if (body.style.paddingRight) body.style.paddingRight = \"\";\n      docEl.style.removeProperty(\"--scrollbar-width\");\n    };\n  }, []);\n\n  return null;\n}\n"],"names":[],"mappings":";;;;AACA;;AADA;;AAQe,SAAS;;IACtB,IAAA,0KAAS;uCAAC;YACR,MAAM,QAAQ,SAAS,eAAe;YACtC,MAAM,OAAO,SAAS,IAAI;YAE1B,MAAM;iEAAoB,IACxB,OAAO,UAAU,GAAG,MAAM,WAAW;gEAAE,yBAAyB;YAElE,MAAM;qDAAQ;oBACZ,MAAM,SACJ,KAAK,KAAK,CAAC,QAAQ,KAAK,YACxB,MAAM,KAAK,CAAC,QAAQ,KAAK,YACzB,KAAK,SAAS,CAAC,QAAQ,CAAC,iBACxB,MAAM,SAAS,CAAC,QAAQ,CAAC;oBAC3B,MAAM,IAAI;oBACV,IAAI,UAAU,IAAI,GAAG;wBACnB,KAAK,KAAK,CAAC,YAAY,KAAK,GAAG,EAAE,EAAE,CAAC;wBACpC,MAAM,KAAK,CAAC,WAAW,CAAC,qBAAqB,GAAG,EAAE,EAAE,CAAC;oBACvD,OAAO;wBACL,2BAA2B;wBAC3B,IAAI,KAAK,KAAK,CAAC,YAAY,EAAE,KAAK,KAAK,CAAC,YAAY,GAAG;wBACvD,MAAM,KAAK,CAAC,cAAc,CAAC;oBAC7B;gBACF;;YAEA,4EAA4E;YAC5E,MAAM,WAAW,IAAI,iBAAiB;YACtC,SAAS,OAAO,CAAC,MAAM;gBAAE,YAAY;gBAAM,iBAAiB;oBAAC;oBAAS;iBAAQ;YAAC;YAC/E,SAAS,OAAO,CAAC,OAAO;gBAAE,YAAY;gBAAM,iBAAiB;oBAAC;oBAAS;iBAAQ;YAAC;YAEhF,mDAAmD;YACnD,MAAM;wDAAW,IAAM;;YACvB,OAAO,gBAAgB,CAAC,UAAU;YAElC,cAAc;YACd;YAEA;+CAAO;oBACL,SAAS,UAAU;oBACnB,OAAO,mBAAmB,CAAC,UAAU;oBACrC,+BAA+B;oBAC/B,IAAI,KAAK,KAAK,CAAC,YAAY,EAAE,KAAK,KAAK,CAAC,YAAY,GAAG;oBACvD,MAAM,KAAK,CAAC,cAAc,CAAC;gBAC7B;;QACF;sCAAG,EAAE;IAEL,OAAO;AACT;GA/CwB;KAAA","debugId":null}}]
}