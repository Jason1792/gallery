{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Drive/Web/jason_web/app/scrollbar-shift-fix.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect } from \"react\";\n\n/**\n * Prevents layout shift when the page is scroll-locked\n * (e.g., when modals set body { overflow: hidden } or add a \"modal-open\" class).\n * It adds right padding equal to the scrollbar width while locked.\n */\nexport default function ScrollbarShiftFix() {\n  useEffect(() => {\n    const docEl = document.documentElement;\n    const body = document.body;\n\n    const getScrollbarWidth = () =>\n      window.innerWidth - docEl.clientWidth; // works across platforms\n\n    const apply = () => {\n      const locked =\n        body.style.overflow === \"hidden\" ||\n        docEl.style.overflow === \"hidden\" ||\n        body.classList.contains(\"modal-open\") ||\n        docEl.classList.contains(\"modal-open\");\n      const w = getScrollbarWidth();\n      if (locked && w > 0) {\n        body.style.paddingRight ||= `${w}px`;\n        docEl.style.setProperty(\"--scrollbar-width\", `${w}px`);\n      } else {\n        // remove only if we set it\n        if (body.style.paddingRight) body.style.paddingRight = \"\";\n        docEl.style.removeProperty(\"--scrollbar-width\");\n      }\n    };\n\n    // Observe style/class changes that typically happen during modal open/close\n    const observer = new MutationObserver(apply);\n    observer.observe(body, { attributes: true, attributeFilter: [\"style\", \"class\"] });\n    observer.observe(docEl, { attributes: true, attributeFilter: [\"style\", \"class\"] });\n\n    // Recompute on resize (scrollbar width can change)\n    const onResize = () => apply();\n    window.addEventListener(\"resize\", onResize);\n\n    // Initial run\n    apply();\n\n    return () => {\n      observer.disconnect();\n      window.removeEventListener(\"resize\", onResize);\n      // cleanup any padding we added\n      if (body.style.paddingRight) body.style.paddingRight = \"\";\n      docEl.style.removeProperty(\"--scrollbar-width\");\n    };\n  }, []);\n\n  return null;\n}\n"],"names":[],"mappings":";;;;AACA;AADA;;AAQe,SAAS;IACtB,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,SAAS,eAAe;QACtC,MAAM,OAAO,SAAS,IAAI;QAE1B,MAAM,oBAAoB,IACxB,OAAO,UAAU,GAAG,MAAM,WAAW,EAAE,yBAAyB;QAElE,MAAM,QAAQ;YACZ,MAAM,SACJ,KAAK,KAAK,CAAC,QAAQ,KAAK,YACxB,MAAM,KAAK,CAAC,QAAQ,KAAK,YACzB,KAAK,SAAS,CAAC,QAAQ,CAAC,iBACxB,MAAM,SAAS,CAAC,QAAQ,CAAC;YAC3B,MAAM,IAAI;YACV,IAAI,UAAU,IAAI,GAAG;gBACnB,KAAK,KAAK,CAAC,YAAY,KAAK,GAAG,EAAE,EAAE,CAAC;gBACpC,MAAM,KAAK,CAAC,WAAW,CAAC,qBAAqB,GAAG,EAAE,EAAE,CAAC;YACvD,OAAO;gBACL,2BAA2B;gBAC3B,IAAI,KAAK,KAAK,CAAC,YAAY,EAAE,KAAK,KAAK,CAAC,YAAY,GAAG;gBACvD,MAAM,KAAK,CAAC,cAAc,CAAC;YAC7B;QACF;QAEA,4EAA4E;QAC5E,MAAM,WAAW,IAAI,iBAAiB;QACtC,SAAS,OAAO,CAAC,MAAM;YAAE,YAAY;YAAM,iBAAiB;gBAAC;gBAAS;aAAQ;QAAC;QAC/E,SAAS,OAAO,CAAC,OAAO;YAAE,YAAY;YAAM,iBAAiB;gBAAC;gBAAS;aAAQ;QAAC;QAEhF,mDAAmD;QACnD,MAAM,WAAW,IAAM;QACvB,OAAO,gBAAgB,CAAC,UAAU;QAElC,cAAc;QACd;QAEA,OAAO;YACL,SAAS,UAAU;YACnB,OAAO,mBAAmB,CAAC,UAAU;YACrC,+BAA+B;YAC/B,IAAI,KAAK,KAAK,CAAC,YAAY,EAAE,KAAK,KAAK,CAAC,YAAY,GAAG;YACvD,MAAM,KAAK,CAAC,cAAc,CAAC;QAC7B;IACF,GAAG,EAAE;IAEL,OAAO;AACT","debugId":null}}]
}